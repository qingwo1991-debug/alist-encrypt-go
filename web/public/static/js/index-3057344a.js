import{e as M,D as q,u as B,H as D,I as j,r as i,E as O,g as V,h as w,j as b,F as I,b as n,c as l,i as o,k as t,J,K,t as x,L as G,d as Q,q as v,p as T,M as W,N as X,O as Y,P as Z}from"./index-8063b7cb.js";import"./lodash-faf9f099.js";const ee={class:"scroll-y"},le={class:"mt-30px font-bold mb-10px"},oe=Q({}),de=Object.assign(oe,{__name:"index",setup(ae){const k=v("right"),g=v(!1),C=v("encode");M(),q(),B();const s=T({folderName:"my video",encType:"aesctr",folderPasswd:"123456",folderNameEnc:"",folderEncType:"rc4",password:""}),p=T({name:"",path:"/*",describe:"",serverHost:"192.168.1.100",serverPort:"5244",https:!1,enableH2c:!1,passwdList:[{id:Math.random(),password:"123456",encType:"aesctr",enable:!1,encName:!1,encSuffix:"",describe:"my video",encPath:"333"}]}),E=$ref(),F=()=>{p.passwdList.push({id:Math.random(),password:"123456",encType:"aesctr",enable:!0,describe:"my video",encPath:"/aliyun/encrypt/*"})},h=r=>{p.passwdList.splice(r,1)},H=r=>{g.value=!0,s.password=r.password,s.encType=r.encType},R=async()=>{const r=await W(s);s.folderNameEnc=`${s.folderName}_${r.data.folderNameEnc}`},S=async()=>{const r=await X(s);s.folderPasswd=r.data.folderPasswd,s.folderEncType=r.data.folderEncType},z=()=>{Y(p).then(r=>{Z.success(r.msg)})};return D(async()=>{const r=await j();for(const e of r.data.passwdList)e.id=Math.random(),e.encPath=e.encPath.reduce((m,d)=>`${m},${d}`);Object.assign(p,r.data)}),(r,e)=>{const m=i("el-input"),d=i("el-form-item"),y=i("el-switch"),f=i("el-button"),c=i("el-radio"),N=i("el-radio-group"),_=i("el-form"),U=i("el-tab-pane"),A=i("el-tabs"),L=i("el-dialog"),$=O("lang");return V(),w("div",ee,[e[30]||(e[30]=b("h3",null,"Alist服务配置",-1)),I((V(),w("div",le,[...e[10]||(e[10]=[n("服务地址",-1)])])),[[$]]),l(_,{ref_key:"refSearchForm",ref:E,"label-position":k.value,"label-width":"75px",model:t(p)},{default:o(()=>[l(d,{prop:"username",label:"服务器"},{default:o(()=>[l(m,{modelValue:t(p).serverHost,"onUpdate:modelValue":e[0]||(e[0]=a=>t(p).serverHost=a),style:{"max-width":"260px"},placeholder:"192.168.1.100"},null,8,["modelValue"]),e[11]||(e[11]=b("span",{color:"gray",style:{"font-size":"12px","margin-left":"12px"}},"alist的ip或者域名地址",-1))]),_:1}),l(d,{prop:"password",label:"端口"},{default:o(()=>[l(m,{modelValue:t(p).serverPort,"onUpdate:modelValue":e[1]||(e[1]=a=>t(p).serverPort=a),style:{"max-width":"260px"},placeholder:"5244"},null,8,["modelValue"])]),_:1}),l(d,{prop:"https",label:"https"},{default:o(()=>[l(y,{modelValue:t(p).https,"onUpdate:modelValue":e[2]||(e[2]=a=>t(p).https=a),class:"ml-2",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue"]),e[12]||(e[12]=b("span",{color:"gray",style:{"font-size":"12px","margin-left":"12px"}},"默认http",-1))]),_:1}),l(d,{prop:"enableH2c",label:"HTTP/2"},{default:o(()=>[l(y,{modelValue:t(p).enableH2c,"onUpdate:modelValue":e[3]||(e[3]=a=>t(p).enableH2c=a),class:"ml-2",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue"]),e[13]||(e[13]=b("span",{color:"gray",style:{"font-size":"12px","margin-left":"12px"}},"启用 h2c (需要后端 Alist 也开启 enable_h2c)",-1))]),_:1}),l(d,{label:"密码设置"},{default:o(()=>[l(f,{type:"success",onClick:F},{default:o(()=>[...e[14]||(e[14]=[n("添加",-1)])]),_:1})]),_:1}),(V(!0),w(J,null,K(t(p).passwdList,(a,P)=>(V(),w("div",{key:a.id},[n(" 配置 "+x(P+1)+" ",1),l(d,{label:"算法"},{default:o(()=>[l(N,{modelValue:a.encType,"onUpdate:modelValue":u=>a.encType=u,style:{margin:"0px 5px"},size:"small"},{default:o(()=>[l(c,{label:"aesctr",border:""},{default:o(()=>[...e[15]||(e[15]=[n("AES-CTR",-1)])]),_:1}),l(c,{label:"rc4",border:""},{default:o(()=>[...e[16]||(e[16]=[n("RC4",-1)])]),_:1}),l(c,{label:"chacha20",border:""},{default:o(()=>[...e[17]||(e[17]=[n("ChaCha20",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"]),e[18]||(e[18]=n(" 开启 ",-1)),l(y,{modelValue:a.enable,"onUpdate:modelValue":u=>a.enable=u,class:"ml-2",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue","onUpdate:modelValue"]),l(f,{type:"danger",style:{margin:"0px 20px"},icon:t(G),circle:"",onClick:u=>h(P)},null,8,["icon","onClick"])]),_:2},1024),l(d,{label:"密码"},{default:o(()=>[l(m,{modelValue:a.password,"onUpdate:modelValue":u=>a.password=u,style:{"max-width":"260px","margin-right":"10px"},placeholder:"12341234"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(d,{label:"文件名"},{default:o(()=>[e[19]||(e[19]=n(" 加密 ",-1)),l(y,{modelValue:a.encName,"onUpdate:modelValue":u=>a.encName=u,class:"ml-2",style:{"margin-right":"10px","--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(d,{label:"备注"},{default:o(()=>[l(m,{modelValue:a.describe,"onUpdate:modelValue":u=>a.describe=u,style:{"max-width":"260px","margin-right":"10px"},placeholder:"备注描述"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(d,{label:"路径"},{default:o(()=>[l(m,{modelValue:a.encPath,"onUpdate:modelValue":u=>a.encPath=u,style:{"max-width":"350px","margin-right":"10px"},placeholder:"多个目录用逗号，隔开"},null,8,["modelValue","onUpdate:modelValue"]),e[20]||(e[20]=b("span",{color:"gray",style:{"font-size":"13px","margin-left":"12px"}},"example: encrypt/*",-1))]),_:2},1024),l(d,{label:"子密码:"},{default:o(()=>[e[22]||(e[22]=n(" 根据文件夹的名字自动识别文件夹的秘钥 ",-1)),l(f,{type:"success",size:"small",style:{"margin-left":"10px"},onClick:u=>H(a)},{default:o(()=>[...e[21]||(e[21]=[n("获取",-1)])]),_:1},8,["onClick"])]),_:2},1024),e[23]||(e[23]=b("br",null,null,-1))]))),128)),l(d,null,{default:o(()=>[l(f,{type:"primary",onClick:z},{default:o(()=>[...e[24]||(e[24]=[n("保存",-1)])]),_:1})]),_:1}),l(L,{modelValue:g.value,"onUpdate:modelValue":e[9]||(e[9]=a=>g.value=a),title:"获取文件夹密文",style:{"min-width":"320px"}},{default:o(()=>[l(A,{modelValue:C.value,"onUpdate:modelValue":e[8]||(e[8]=a=>C.value=a),class:"demo-tabs",onTabClick:r.handleClick},{default:o(()=>[l(U,{label:"加密名字",name:"encode"},{default:o(()=>[l(_,{model:t(s)},{default:o(()=>[l(d,{prop:"username",label:"文件夹名称"},{default:o(()=>[l(m,{modelValue:t(s).folderName,"onUpdate:modelValue":e[4]||(e[4]=a=>t(s).folderName=a),style:{"max-width":"260px"},placeholder:"folder name"},null,8,["modelValue"])]),_:1}),l(d,{prop:"username",label:"算法类型"},{default:o(()=>[l(N,{modelValue:t(s).folderEncType,"onUpdate:modelValue":e[5]||(e[5]=a=>t(s).folderEncType=a),style:{margin:"0 15px"},size:"small"},{default:o(()=>[l(c,{label:"aesctr",border:""},{default:o(()=>[...e[25]||(e[25]=[n("AES-CTR",-1)])]),_:1}),l(c,{label:"rc4",border:""},{default:o(()=>[...e[26]||(e[26]=[n("RC4",-1)])]),_:1}),l(c,{label:"chacha20",border:""},{default:o(()=>[...e[27]||(e[27]=[n("ChaCha20",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(d,{prop:"username",label:"文件夹密码"},{default:o(()=>[l(m,{modelValue:t(s).folderPasswd,"onUpdate:modelValue":e[6]||(e[6]=a=>t(s).folderPasswd=a),style:{"max-width":"260px"},placeholder:"123456"},null,8,["modelValue"])]),_:1}),l(d,{prop:"username",label:"加密结果"},{default:o(()=>[n(x(t(s).folderNameEnc),1)]),_:1}),l(f,{type:"success",onClick:R},{default:o(()=>[...e[28]||(e[28]=[n("查询",-1)])]),_:1})]),_:1},8,["model"])]),_:1}),l(U,{label:"解密名字",name:"decode"},{default:o(()=>[l(_,{model:t(s)},{default:o(()=>[l(d,{prop:"username",label:"文件夹名称"},{default:o(()=>[l(m,{modelValue:t(s).folderNameEnc,"onUpdate:modelValue":e[7]||(e[7]=a=>t(s).folderNameEnc=a),style:{"max-width":"260px"},placeholder:"folder name"},null,8,["modelValue"])]),_:1}),l(d,{prop:"username",label:"算法类型"},{default:o(()=>[n(x(t(s).folderEncType),1)]),_:1}),l(d,{prop:"username",label:"文件夹密码"},{default:o(()=>[n(x(t(s).folderPasswd),1)]),_:1}),l(f,{type:"success",onClick:S},{default:o(()=>[...e[29]||(e[29]=[n("解密",-1)])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue","onTabClick"])]),_:1},8,["modelValue"])]),_:1},8,["label-position","model"])])}}});export{de as default};
